# üîç –ê–Ω–∞–ª—ñ–∑ –í–∏–º–æ–≥ –¥–æ –†–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è AI Trading Agent

## üìä –ü–æ—Ç–æ—á–Ω–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —â–æ —Å–ø–æ–∂–∏–≤–∞—é—Ç—å —Ä–µ—Å—É—Ä—Å–∏:

1. **TensorFlow/Keras (RL Agent)**
   - Actor-Critic –Ω–µ–π—Ä–æ–Ω–Ω–∞ –º–µ—Ä–µ–∂–∞: 2 Dense layers (64 neurons each)
   - –ù–∞–≤—á–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ (backpropagation –∫–æ–∂–Ω—ñ 32 –∫—Ä–æ–∫–∏)
   - –†–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª—ñ: ~50-100 KB (–Ω–µ–≤–µ–ª–∏–∫–∞)

2. **Flask + Gunicorn**
   - –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑ 1 worker, 2 threads
   - Keep-Alive endpoint –¥–ª—è UptimeRobot

3. **–û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö**
   - Pandas (OHLCV –¥–∞–Ω—ñ, —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑)
   - NumPy (–æ–±—á–∏—Å–ª–µ–Ω–Ω—è)
   - CCXT (API –∑–∞–ø–∏—Ç–∏ –¥–æ Binance)

4. **Google Drive API**
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è/–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ (–∫–æ–∂–Ω—ñ 30 –∫—Ä–æ–∫—ñ–≤)

---

## ‚ö†Ô∏è Render Free Tier –û–±–º–µ–∂–µ–Ω–Ω—è

### –†–µ—Å—É—Ä—Å–∏:
- **RAM**: 512 MB
- **CPU**: 0.5 cores (shared)
- **–î–∏—Å–∫**: 1 GB
- **–ë–∞–Ω–¥–∞width**: 100 GB/–º—ñ—Å—è—Ü—å
- **–ì–æ–¥–∏–Ω–∏**: 750 –≥–æ–¥–∏–Ω/–º—ñ—Å—è—Ü—å (~31 –¥–µ–Ω—å, –∞–ª–µ –Ω–µ 24/7 –≤–µ—Å—å –º—ñ—Å—è—Ü—å)

### –û–±–º–µ–∂–µ–Ω–Ω—è:
- **Sleep –ø—ñ—Å–ª—è 15 —Ö–≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** (–∞–ª–µ Keep-Alive —Ü–µ –≤–∏—Ä—ñ—à—É—î)
- **–û–±–º–µ–∂–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** –¥–ª—è —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å

---

## üéØ –û—Ü—ñ–Ω–∫–∞ –í–∏–º–æ–≥ –ù–∞—à–æ–≥–æ –ü—Ä–æ—î–∫—Ç—É

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | RAM | CPU | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|-----------|-----|-----|----------|
| TensorFlow (–±–∞–∑–æ–≤–∞) | ~200-300 MB | 0.2-0.3 cores | –ë–µ–∑ GPU, CPU-only |
| Flask + Gunicorn | ~50-100 MB | 0.1 cores | 1 worker |
| Pandas/NumPy | ~50-100 MB | 0.1 cores | –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö |
| Python runtime | ~50-100 MB | 0.1 cores | –ë–∞–∑–æ–≤—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ |
| **–ó–ê–ì–ê–õ–û–ú** | **~400-600 MB** | **~0.5-0.6 cores** | |

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: 512 MB RAM –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ!

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è —Ç–∞ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

### 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è TensorFlow (–ö–†–ò–¢–ò–ß–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞**: TensorFlow –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∑–∞–π–º–∞—î –±–∞–≥–∞—Ç–æ RAM.

**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ TensorFlow Lite –∞–±–æ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

```python
# –î–æ–¥–∞—Ç–∏ –≤ app.py –ø—ñ—Å–ª—è —ñ–º–ø–æ—Ä—Ç—ñ–≤:
import os
os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'  # –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ warnings
os.environ['TF_FORCE_GPU_ALLOW_GROWTH'] = 'true'  # –Ø–∫—â–æ GPU –Ω–µ–º–∞—î, —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è

# –û–±–º–µ–∂–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ TensorFlow
import tensorflow as tf
gpus = tf.config.experimental.list_physical_devices('GPU')
if gpus:
    tf.config.experimental.set_memory_growth(gpus[0], True)
else:
    # –î–ª—è CPU: –æ–±–º–µ–∂–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤
    tf.config.threading.set_inter_op_parallelism_threads(1)
    tf.config.threading.set_intra_op_parallelism_threads(1)
```

### 2. –ó–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª—ñ

**–ü–æ—Ç–æ—á–Ω–∞**: 2 layers √ó 64 neurons = ~8K –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞**: 2 layers √ó 32 neurons = ~2K –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—ó RL)

```python
# –í ActorCriticAgent._build_model():
dense1 = tf.keras.layers.Dense(32, activation="relu")(inputs)  # –ë—É–ª–æ 64
dense2 = tf.keras.layers.Dense(32, activation="relu")(dense1)  # –ë—É–ª–æ 64
```

### 3. –ó–±—ñ–ª—å—à–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞–≤—á–∞–Ω–Ω—è

**–ü–æ—Ç–æ—á–Ω–∞**: –ù–∞–≤—á–∞–Ω–Ω—è –∫–æ–∂–Ω—ñ 32 –∫—Ä–æ–∫–∏

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞**: –ù–∞–≤—á–∞–Ω–Ω—è –∫–æ–∂–Ω—ñ 64-128 –∫—Ä–æ–∫—ñ–≤ (–º–µ–Ω—à–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)

```python
# –í app.py:
TRAIN_BATCH_SIZE = int(os.getenv("TRAIN_BATCH_SIZE", "64"))  # –ë—É–ª–æ 32
```

### 4. –ó–º–µ–Ω—à–∏—Ç–∏ —á–∞—Å—Ç–æ—Ç—É –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ

**–ü–æ—Ç–æ—á–Ω–∞**: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 –∫—Ä–æ–∫—ñ–≤

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞**: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 100-200 –∫—Ä–æ–∫—ñ–≤ (–º–µ–Ω—à–µ I/O)

```python
# –í app.py:
SAVE_MODEL_INTERVAL_STEPS = int(os.getenv("SAVE_MODEL_INTERVAL_STEPS", "100"))  # –ë—É–ª–æ 30
```

### 5. –û–±–º–µ–∂–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä replay buffer

**–ü–æ—Ç–æ—á–Ω–∞**: 5 √ó TRAIN_BATCH_SIZE = 160-320 –∑–∞–ø–∏—Å—ñ–≤

**–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞**: 3 √ó TRAIN_BATCH_SIZE = 96-192 –∑–∞–ø–∏—Å—ñ–≤

```python
# –í TradingAgentRunner._record_experience():
if len(self.replay_buffer) > 3 * TRAIN_BATCH_SIZE:  # –ë—É–ª–æ 5
    self.replay_buffer.pop(0)
```

---

## üöÄ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏

### 1. **Render Starter Plan** ($7/–º—ñ—Å—è—Ü—å)
- **RAM**: 512 MB ‚Üí 1 GB
- **CPU**: 0.5 ‚Üí 1 core
- **–ì–æ–¥–∏–Ω–∏**: 750 ‚Üí Unlimited
- **‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ**: –Ø–∫—â–æ Free Tier –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î

### 2. **Railway.app** (Free Tier)
- **RAM**: 512 MB
- **CPU**: 0.5 cores
- **–ì–æ–¥–∏–Ω–∏**: 500 –≥–æ–¥–∏–Ω/–º—ñ—Å—è—Ü—å (–º–µ–Ω—à–µ –Ω—ñ–∂ Render)
- **$5 –∫—Ä–µ–¥–∏—Ç/–º—ñ—Å—è—Ü—å** (–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤)

### 3. **Fly.io** (Free Tier)
- **RAM**: 256 MB (–¥—É–∂–µ –º–∞–ª–æ!)
- **CPU**: Shared
- **–ì–æ–¥–∏–Ω–∏**: Unlimited
- **‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ**: –ó–∞–º–∞–ª–æ RAM

### 4. **Replit** (Hacker Plan $7/–º—ñ—Å—è—Ü—å)
- **RAM**: 1 GB
- **CPU**: 0.5 cores
- **–ì–æ–¥–∏–Ω–∏**: Unlimited
- **‚úÖ –î–æ–±—Ä–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å**: –Ø–∫—â–æ –≤–¥–∞—Å—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ API Token

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ Render Free Tier –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è–º–∏
1. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –≤—Å—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤–∏—â–µ
2. –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è RAM —á–µ—Ä–µ–∑ Render Dashboard
3. –Ø–∫—â–æ –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î ‚Üí –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Starter Plan

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—ñ–¥—Ä–∞–∑—É Render Starter Plan ($7/–º—ñ—Å—è—Ü—å)
- –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏—Å—Ç–∞—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ë–µ–∑ –æ–±–º–µ–∂–µ–Ω—å –ø–æ –≥–æ–¥–∏–Ω–∞—Ö
- –ö—Ä–∞—â–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –í–∞—Ä—ñ–∞–Ω—Ç 3: Railway.app + $5 –∫—Ä–µ–¥–∏—Ç
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫—Ä–µ–¥–∏—Ç –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ú–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–æ 1 GB RAM

---

## üéØ –í–∏—Å–Ω–æ–≤–æ–∫

### –ß–∏ –≤–∏—Å—Ç–∞—á–∏—Ç—å Render Free Tier?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å**: **–ú–û–ñ–õ–ò–í–û, –∞–ª–µ –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è–º–∏**

**–†–∏–∑–∏–∫–∏**:
- ‚ö†Ô∏è 512 MB RAM - –Ω–∞ –º–µ–∂—ñ (TensorFlow –º–æ–∂–µ "–∑'—ó—Å—Ç–∏" 300-400 MB)
- ‚ö†Ô∏è 0.5 CPU cores - –Ω–∞–≤—á–∞–Ω–Ω—è –±—É–¥–µ –ø–æ–≤—ñ–ª—å–Ω–∏–º
- ‚ö†Ô∏è 750 –≥–æ–¥–∏–Ω/–º—ñ—Å—è—Ü—å - –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ 24/7 (730 –≥–æ–¥–∏–Ω = 30.4 –¥–Ω—ñ)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**:
1. **–°–ø–æ—á–∞—Ç–∫—É**: –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ Free Tier –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è–º–∏
2. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –ø–µ—Ä—à—ñ 2-3 –¥–Ω—ñ
3. **–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∏**: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Render Starter ($7/–º—ñ—Å—è—Ü—å) –∞–±–æ Railway

---

## üîß –®–≤–∏–¥–∫—ñ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó (–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –ó–∞—Ä–∞–∑)

–î–æ–¥–∞–π—Ç–µ —Ü—ñ –∑–º—ñ–Ω–∏ –≤ `app.py`:

```python
# –ü—ñ—Å–ª—è —Ä—è–¥–∫–∞ 19 (–ø—ñ—Å–ª—è import tensorflow as tf):
import os
os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'
import tensorflow as tf

# –û–±–º–µ–∂–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
tf.config.threading.set_inter_op_parallelism_threads(1)
tf.config.threading.set_intra_op_parallelism_threads(1)

# –ó–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª—ñ (–≤ ActorCriticAgent._build_model):
dense1 = tf.keras.layers.Dense(32, activation="relu")(inputs)  # –ë—É–ª–æ 64
dense2 = tf.keras.layers.Dense(32, activation="relu")(dense1)  # –ë—É–ª–æ 64
```

---

**–ü—ñ—Å–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π**: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ—î–∫—Ç —ñ –º–æ–Ω—ñ—Ç–æ—Ä—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤!

